(function(){if(!((window.doNotTrack||navigator.doNotTrack||navigator.msDoNotTrack||"msTrackingProtectionEnabled"in window.external)&&("1"==window.doNotTrack||"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack||window.external&&window.external.msTrackingProtectionEnabled))){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1});var a={cookieNameFirstTouchPrefix:"ft_",cookieNamePrefix:"lt_",utmParams:["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],cookieExpiryDays:365,isFirstTouch:null},b={topDomain:function(){var a,b,c=document.location.hostname.split(".");for(a=c.length-1;0<=a;a--)if(b=c.slice(a).join("."),document.cookie="top_level_domain=cookie;domain=."+b+";",-1<document.cookie.indexOf("top_level_domain=cookie"))return document.cookie="top_level_domain=;domain=."+b+";expires=Thu, 01 Jan 1970 00:00:01 GMT;",b;return document.location.hostname},isFirstTouch:function(){if(null!=a.isFirstTouch)return a.isFirstTouch;var b=-1===document.cookie.indexOf(a.cookieNameFirstTouchPrefix);return a.isFirstTouch=b,b},isNewSession:function(){var a=void 0===c.read("__utm_tracking_session");return c.create("__utm_tracking_session",!0,1/48),a}},c={create:function(a,d,e){if(e){var f=new Date;f.setTime(f.getTime()+1e3*(60*(60*(24*e))));var g="; expires="+f.toGMTString()}else var g="";var h=a+"="+d+g+";domain=."+b.topDomain()+";  path=/";document.cookie=h},writeCookieOnce:function(c,d){b.isFirstTouch()&&this.create(a.cookieNameFirstTouchPrefix+c,d,a.cookieExpiryDays),this.create(a.cookieNamePrefix+c,d,a.cookieExpiryDays)},read:function(a){for(var b,d=a+"=",e=document.cookie.split(";"),f=0;f<e.length;f++){for(b=e[f];" "==b.charAt(0);)b=b.substring(1,b.length);if(0==b.indexOf(d))return b.substring(d.length,b.length)}},erase:function(a){this.createCookie(a,"",-1)}},d={getParameterByName:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.search);return null==d?"":decodeURIComponent(d[1].replace(/\+/g," "))},utmPresentInUrl:function(){for(var b=0;b<a.utmParams.length;b++){var c=a.utmParams[b],d=this.getParameterByName(c);if(""!==d&&void 0!==d)return!0}return!1},writeUtmCookieFromParams:function(){if(this.utmPresentInUrl())for(var b=0;b<a.utmParams.length;b++){var d=a.utmParams[b],e=this.getParameterByName(d);c.writeCookieOnce(d,e)}},writeReferrer:function(){var a=document.referrer;a&&""!==a&&void 0!==a&&-1===a.indexOf(document.location.host)?c.writeCookieOnce("referrer",a):c.writeCookieOnce("referrer","direct")},storeParamsInCookies:function(){b.isNewSession()&&(this.writeUtmCookieFromParams(),this.writeReferrer())}},e={insertToForm:function(){this.insertToFormEachField(a.cookieNameFirstTouchPrefix),this.insertToFormEachField(a.cookieNamePrefix)},insertToFormEachField:function(b){var d=a.utmParams;d.push("referrer");for(var g=0;g<d.length;g++){var h=b+d[g],i=c.read(h),j=document.querySelectorAll("input[name='"+h+"']");if(void 0!==i&&0<j.length)for(var k=0;k<j.length;k++)j[k].value=i}}};d.storeParamsInCookies(),window.addEventListener("message",function(a){"hsFormCallback"===a.data.type&&"onFormReady"===a.data.eventName&&(console.log("Form Is Ready!"),e.insertToForm())})}})();
/*
 * Copyright (c), Yanir Calisar (ycalisar at overstack.io)
 */