(function(){if((window.doNotTrack||navigator.doNotTrack||navigator.msDoNotTrack||"msTrackingProtectionEnabled"in window.external)&&("1"==window.doNotTrack||"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack||window.external&&window.external.msTrackingProtectionEnabled))return void console.log("Do not track is on");Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1});var a={cookieNameFirstTouchPrefix:"__ft_",cookieNamePrefix:"__lt_",utmParams:["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],cookieExpiryDays:365,isFirstTouch:null},b={topDomain:function(){var a,b,c=document.location.hostname.split(".");for(a=c.length-1;0<=a;a--)if(b=c.slice(a).join("."),document.cookie="top_level_domain=cookie;domain=."+b+";",-1<document.cookie.indexOf("top_level_domain=cookie"))return document.cookie="top_level_domain=;domain=."+b+";expires=Thu, 01 Jan 1970 00:00:01 GMT;",b;return document.location.hostname},isFirstTouch:function(){if(null!=a.isFirstTouch)return a.isFirstTouch;var b=-1===document.cookie.indexOf(a.cookieNameFirstTouchPrefix);return console.log("first touch: "+b),a.isFirstTouch=b,b},isNewSession:function(){var a=void 0===c.read("__utm_tracking_session");return c.create("__utm_tracking_session",!0,1/48),a}},c={create:function(a,d,e){if(e){var f=new Date;f.setTime(f.getTime()+1e3*(60*(60*(24*e))));var g="; expires="+f.toGMTString()}else var g="";var h=a+"="+d+g+";domain=."+b.topDomain()+";  path=/";document.cookie=h},writeCookieOnce:function(c,d){b.isFirstTouch()&&this.create(a.cookieNameFirstTouchPrefix+c,d,a.cookieExpiryDays),this.create(a.cookieNamePrefix+c,d,a.cookieExpiryDays)},read:function(a){for(var b,d=a+"=",e=document.cookie.split(";"),f=0;f<e.length;f++){for(b=e[f];" "==b.charAt(0);)b=b.substring(1,b.length);if(0==b.indexOf(d))return b.substring(d.length,b.length)}},erase:function(a){this.createCookie(a,"",-1)}};({getParameterByName:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.search);return null==d?"":decodeURIComponent(d[1].replace(/\+/g," "))},utmPresentInUrl:function(){for(var b=0;b<a.utmParams.length;b++){var c=a.utmParams[b],d=this.getParameterByName(c);if(""!==d&&d!==void 0)return!0}return!1},writeUtmCookieFromParams:function(){if(this.utmPresentInUrl())for(var b=0;b<a.utmParams.length;b++){var d=a.utmParams[b],e=this.getParameterByName(d);c.writeCookieOnce(d,e)}},writeReferrer:function(){var a=document.referrer,b="referrer";a&&""!==a&&a!==void 0&&-1===a.indexOf(document.location.host)?(console.log(a),c.writeCookieOnce(b,a)):c.writeCookieOnce(b,"direct")},storeParamsInCookies:function(){b.isNewSession()&&(this.writeUtmCookieFromParams(),this.writeReferrer())}}).storeParamsInCookies()})();

/*
 * Copyright (c), Yanir Calisar (ycalisar at overstack.io)
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this code and associated documentation files, to deal in the code without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the code. The user assumes responsibility for determining appropriate use of the code, for consequences of its use, and for checking functionality against other reliable sources. We suggest citation in publications as with any code developement work. No warrantee is given. Please help improve the code by sending suggestions or new code back.
 */